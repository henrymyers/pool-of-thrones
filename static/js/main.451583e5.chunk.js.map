{"version":3,"sources":["logo.png","types.ts","components/Prediction.tsx","components/EntryRow.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","__webpack_require__","p","Status","Validity","Copydeck","jonsnow","sansastark","aryastark","branstark","cerseilannister","jaimelannister","tyrionlannister","daenerystargaryen","yaragreyjoy","theongreyjoy","eurongreyjoy","melisandre","jorahmormont","thehound","themountain","samwelltarly","gilly","littlesam","varys","brienne","davos","bronn","podrick","tormund","greyworm","gendry","bericdondarrion","isdaeneryspregnant","whokillsthenightking","whoendsupontheironthrone","Prediction","_ref","question","keys","points","_ref$showKey","showKey","entry","result","customRule","getValidity","key","validity","correct","incorrect","unknown","react_default","a","createElement","className","style","lineHeight","marginLeft","data-position","data-tooltip","length","map","k","index","Prediction_Answer","text","Answer","_ref2","characters","EntryRow","lives","filter","f","Lives","deaths","Dies","walkers","WhiteWalker","rank","player","score","Prediction_Prediction","find","d","sheetUrl","mapRow","row","prop","hasOwnProperty","startsWith","replace","value","$t","addScores","entries","forEach","addRanks","scores","e","sort","b","indexOf","App","_useState","useState","_useState2","Object","slicedToArray","poolResult","setPoolResult","_useState3","_useState4","poolEntries","setPoolEntries","_useState5","_useState6","showData","setShowData","useEffect","fetch","then","response","json","allRows","feed","slice","initMaterialComponents","Fragment","paddingTop","src","logo","alt","onClick","marginBottom","item","EntryRow_EntryRow","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.451583e5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.8583e1a5.png\";","export enum Status {\n    Undecided = 'Undecided',\n    Lives = 'Lives',\n    Dies = 'Dies',\n    WhiteWalker = 'White Walker',\n}\n\nexport type Result = {\n    [index: string]: any;\n    player: string;\n    jonsnow: Status;\n    sansastark: Status;\n    aryastark: Status;\n    branstark: Status;\n    cerseilannister: Status;\n    jaimelannister: Status;\n    tyrionlannister: Status;\n    daenerystargaryen: Status;\n    yaragreyjoy: Status;\n    theongreyjoy: Status;\n    eurongreyjoy: Status;\n    melisandre: Status;\n    jorahmormont: Status;\n    thehound: Status;\n    themountain: Status;\n    samwelltarly: Status;\n    gilly: Status;\n    littlesam: Status;\n    varys: Status;\n    brienne: Status;\n    davos: Status;\n    bronn: Status;\n    podrick: Status;\n    tormund: Status;\n    greyworm: Status;\n    gendry: Status;\n    bericdondarrion: Status;\n    isdaeneryspregnant: string;\n    whokillsthenightking: string;\n    whoendsupontheironthrone: string;\n};\n\nexport type Entry = Result & {\n    score: number;\n    rank: number;\n};\n","import { Entry, Result } from '../types';\nimport React from 'react';\n\nexport const Copydeck: any = {\n    jonsnow: 'Jon Snow',\n    sansastark: 'Sansa Stark',\n    aryastark: 'Arya Stark',\n    branstark: 'Bran Stark',\n    cerseilannister: 'Cersei Lannister',\n    jaimelannister: 'Jaime Lannister',\n    tyrionlannister: 'Tyrion Lannister',\n    daenerystargaryen: 'Daenerys Lannister',\n    yaragreyjoy: 'Yara Greyjoy',\n    theongreyjoy: 'Theon Greyjoy',\n    eurongreyjoy: 'Euron Greyjoy',\n    melisandre: 'Melisandre',\n    jorahmormont: 'Jorah Mormont',\n    thehound: 'The Hound',\n    themountain: 'The Mountain',\n    samwelltarly: 'Samwell Tarly',\n    gilly: 'Gilly',\n    littlesam: 'Little Sam',\n    varys: 'Varys',\n    brienne: 'Brienne',\n    davos: 'Davos',\n    bronn: 'Bronn',\n    podrick: 'Podrick',\n    tormund: 'Tormund',\n    greyworm: 'Grey Worm',\n    gendry: 'Gendry',\n    bericdondarrion: 'Beric Dondarrion',\n    isdaeneryspregnant: 'Is Daenerys pregnant?',\n    whokillsthenightking: 'Who kills the night king?',\n    whoendsupontheironthrone: 'Who ends up on the Iron Throne?',\n};\n\nexport type PredictionProps = {\n    question: string;\n    keys: (keyof Result)[];\n    points: string;\n    showKey?: boolean;\n    entry: Entry;\n    result: Result;\n    customRule?: (k: keyof Result) => Validity | null;\n};\n\nexport const Prediction = ({\n    question,\n    keys,\n    points,\n    showKey = false,\n    entry,\n    result,\n    customRule,\n}: PredictionProps) => {\n    const getValidity = (key: keyof Result): Validity => {\n        // Custom rule allows for a question-specific check.\n        if (customRule) {\n            const validity = customRule(key);\n            if (validity) {\n                return validity;\n            }\n        }\n\n        if (!result[key]) {\n            // Result isn't decided yet\n            return Validity.unknown;\n        } else if (result[key] === entry[key]) {\n            // Answer matches result\n            return Validity.correct;\n        } else {\n            return Validity.incorrect;\n        }\n    };\n\n    return (\n        <div className=\"prediction\">\n            <h6 className=\"valign-wrapper\" style={{ lineHeight: '1' }}>\n                {question}\n                <i\n                    className=\"material-icons tooltipped grey-text\"\n                    style={{ marginLeft: '10px' }}\n                    data-position=\"top\"\n                    data-tooltip={points}\n                >\n                    info_outline\n                </i>\n            </h6>\n            <div>\n                {keys.length > 0 &&\n                    keys.map((k, index) => (\n                        <Answer\n                            key={index}\n                            text={showKey ? Copydeck[k] : entry[k]}\n                            validity={getValidity(k)}\n                        />\n                    ))}\n                {!keys.length && <div className=\"grey-text\">No one</div>}\n            </div>\n        </div>\n    );\n};\n\nexport enum Validity {\n    correct = 'correct',\n    incorrect = 'incorrect',\n    unknown = 'unknown',\n}\n\nexport type AnswerProps = {\n    text: string;\n    validity: Validity;\n};\n\nexport const Answer = ({ text, validity }: AnswerProps) => {\n    return (\n        <span className={'tag ' + validity}>\n            <strong>{text}</strong>\n            {validity === Validity.correct && <i className=\"material-icons right\">check</i>}\n            {validity === Validity.incorrect && <i className=\"material-icons right\">clear</i>}\n        </span>\n    );\n};\n","import React from 'react';\nimport { Entry, Result, Status } from '../types';\nimport { Copydeck, Prediction, Validity } from './Prediction';\nimport './EntryRow.css';\n\nconst characters: (keyof Result)[] = [\n    'jonsnow',\n    'sansastark',\n    'aryastark',\n    'branstark',\n    'cerseilannister',\n    'jaimelannister',\n    'tyrionlannister',\n    'daenerystargaryen',\n    'yaragreyjoy',\n    'theongreyjoy',\n    'eurongreyjoy',\n    'melisandre',\n    'jorahmormont',\n    'thehound',\n    'themountain',\n    'samwelltarly',\n    'gilly',\n    'littlesam',\n    'varys',\n    'brienne',\n    'davos',\n    'bronn',\n    'podrick',\n    'tormund',\n    'greyworm',\n    'gendry',\n    'bericdondarrion',\n];\n\nexport const EntryRow = ({ entry, result }: { entry: Entry; result: Result }) => {\n    const lives = characters.filter(f => entry[f] === Status.Lives);\n    const deaths = characters.filter(f => entry[f] === Status.Dies);\n    const walkers = characters.filter(f => entry[f] === Status.WhiteWalker);\n\n    return (\n        <ul className=\"collapsible no-border\">\n            <li>\n                <div className=\"collapsible-header primary hoverable white-text no-border valign-wrapper\">\n                    <span className=\"entry-rank neutral z-depth-2\">{entry.rank}</span>\n                    <span className=\"entry-name\">{entry.player}</span>\n                    <span className=\"badge white-text\">\n                        {entry.score} {entry.score > 1 ? 'points' : 'point'}\n                    </span>\n                </div>\n                <div className=\"collapsible-body white no-border\">\n                    <Prediction\n                        question=\"Who dies?\"\n                        points=\"1pt per correct answer\"\n                        keys={deaths}\n                        showKey={true}\n                        entry={entry}\n                        result={result}\n                        customRule={(k: keyof Result) => {\n                            // Whitewalkers also count as deaths\n                            return result[k] === Status.WhiteWalker && entry[k] === Status.Dies\n                                ? Validity.correct\n                                : null;\n                        }}\n                    />\n                    <Prediction\n                        question=\"Who becomes a white walker?\"\n                        points=\"2pts per correct answer\"\n                        keys={walkers}\n                        showKey={true}\n                        entry={entry}\n                        result={result}\n                        customRule={(k: keyof Result) => {\n                            // There will be no more new white walkers from now on.\n                            return !result[k] && entry[k] === Status.WhiteWalker\n                                ? Validity.incorrect\n                                : null;\n                        }}\n                    />\n                    <Prediction\n                        question=\"Who lives?\"\n                        points=\"1pt per correct answer\"\n                        keys={lives}\n                        showKey={true}\n                        entry={entry}\n                        result={result}\n                    />\n                    <Prediction\n                        question=\"Is Daenerys pregnant?\"\n                        points=\"1pt if correct\"\n                        keys={['isdaeneryspregnant']}\n                        entry={entry}\n                        result={result}\n                    />\n                    <Prediction\n                        question=\"Who kills the night king?\"\n                        points=\"2pts if correct\"\n                        keys={['whokillsthenightking']}\n                        entry={entry}\n                        result={result}\n                    />\n                    <Prediction\n                        question=\"Who ends up on the Iron Throne?\"\n                        points=\"4pts if correct\"\n                        keys={['whoendsupontheironthrone']}\n                        entry={entry}\n                        result={result}\n                        customRule={(k: keyof Result) => {\n                            // If the predicted ruler has already died, mark as incorrect.\n                            return !result[k] && deaths.find(d => Copydeck[d] === entry[k])\n                                ? Validity.incorrect\n                                : null;\n                        }}\n                    />\n                </div>\n            </li>\n        </ul>\n    );\n};\n","import React, { useEffect, useState } from 'react';\nimport { AutoInit as initMaterialComponents } from 'materialize-css';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport './App.css';\nimport logo from './logo.png';\nimport { Entry, Result, Status } from './types';\nimport { EntryRow } from './components';\n\nconst sheetUrl =\n    'https://spreadsheets.google.com/feeds/list/1F6niOY6NGLMFD0PxMITgZ0iThof5zVeCKSswuqRB0XE/1/public/values?alt=json';\n\nconst mapRow = (row: any): Result => {\n    let result = {} as Result;\n\n    for (let prop in row) {\n        if (row.hasOwnProperty(prop) && prop.startsWith('gsx$')) {\n            const key = prop.replace('gsx$', '');\n            const value = row[prop];\n            result[key] = (value && value.$t) || null;\n        }\n    }\n\n    return result;\n};\n\nconst addScores = (entries: Entry[], result: Result) => {\n    if (!entries || !result) {\n        return;\n    }\n\n    entries.forEach(entry => {\n        let score = 0;\n\n        for (let prop in result) {\n            if (result.hasOwnProperty(prop)) {\n                if (result[prop] === entry[prop]) {\n                    if (prop === 'whoendsupontheironthrone') {\n                        // Correctly predicted who won the game of thrones\n                        score += 4;\n                    } else if (prop === 'whokillsthenightking') {\n                        // Correctly predicted the night king's killer\n                        score += 2;\n                    } else if (prop === 'isdaeneryspregnant') {\n                        // Correctly predicted pregnancy\n                        score += 1;\n                    } else if (entry[prop] === Status.WhiteWalker) {\n                        // Correctly predicted White Walker\n                        score += 2;\n                    } else {\n                        // Default value for matching answers\n                        score += 1;\n                    }\n                } else if (result[prop] === Status.WhiteWalker && entry[prop] === Status.Dies) {\n                    // White walkers also count as deaths\n                    score += 1;\n                }\n            }\n        }\n\n        entry.score = score;\n    });\n};\n\nconst addRanks = (entries: any[]) => {\n    let scores = entries.map(e => e.score).sort((a, b) => b - a); // Sort in ascending order\n\n    entries.forEach(entry => {\n        entry.rank = scores.indexOf(entry.score) + 1;\n    });\n};\n\nfunction App() {\n    const [poolResult, setPoolResult] = useState();\n    const [poolEntries, setPoolEntries] = useState();\n    const [showData, setShowData] = useState(false);\n\n    const toggleVisibility = () => {\n        setShowData(!showData);\n    };\n\n    useEffect(() => {\n        fetch(sheetUrl)\n            .then(function(response) {\n                return response.json();\n            })\n            .then(function(response) {\n                let allRows: any[] = (response && response.feed && response.feed.entry) || [];\n                allRows = allRows.map(mapRow);\n\n                let result = allRows[0];\n                setPoolResult(result);\n\n                let entries = allRows.slice(1);\n                addScores(entries, result);\n                addRanks(entries);\n                entries = entries.sort((a, b) => a.rank - b.rank);\n                setPoolEntries(entries);\n            });\n    }, []);\n\n    useEffect(() => {\n        initMaterialComponents(); // Material CSS components\n    }, [showData]);\n\n    return (\n        <>\n            <header style={{ paddingTop: showData ? '6vh' : '30vh' }}>\n                <img src={logo} className=\"logo\" alt=\"logo\" />\n                {!poolEntries && (\n                    <div>\n                        <div className=\"progress\">\n                            <div className=\"indeterminate\" />\n                        </div>\n                        <div className=\"white-text\">Loading predictions...</div>\n                    </div>\n                )}\n                {poolEntries && !showData && (\n                    <div>\n                        <h6 className=\"danger-text\">\n                            WARNING: The following pool results may contain spoilers.\n                        </h6>\n                        <a\n                            className=\"waves-effect waves-light btn-large primary u-mt\"\n                            onClick={toggleVisibility}\n                        >\n                            Show Results\n                        </a>\n                    </div>\n                )}\n            </header>\n            <main className=\"container u-mt\" style={{ marginBottom: '6vh' }}>\n                {poolEntries &&\n                    showData &&\n                    poolEntries.map((item: Entry, index: number) => (\n                        <EntryRow entry={item} result={poolResult} key={index} />\n                    ))}\n            </main>\n        </>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}